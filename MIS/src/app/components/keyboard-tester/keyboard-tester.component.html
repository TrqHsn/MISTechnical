<header>
  <h1>Keyboard Tester Tool</h1>
  <p class="subtitle">Test your keyboard functionality and view detailed key press statistics</p>
</header>

<div class="container">
  <div class="keyboard-display">
    <div class="toggle-switch">
      <label class="switch">
        <input type="checkbox" [checked]="soundEnabled" (change)="onToggleSound($any($event.target).checked)" />
        <span class="slider"></span>
      </label>
      <span>Key press sound</span>
    </div>

    <div class="keyboard-visual">
      <div class="keyboard-row" *ngFor="let row of KEY_ROWS">
        <div
          class="key"
          *ngFor="let key of row"
          [class.special]="isSpecial(key)"
          [class.space]="key === ' '"
          [class.arrow]="key.startsWith('Arrow')"
          [class.active]="isActive(key)"
        >
          {{ labelFor(key) }}
          <div class="key-code-display">{{ codeLabelFor(key) }}</div>
        </div>
      </div>
    </div>

    <textarea
      class="test-area"
      placeholder="Type here to test your keyboard..."
      (focus)="onTextareaFocus()"
      (blur)="onTextareaBlur()"
      (keydown)="onTextareaKeydown($event)"
    ></textarea>
  </div>

  <div class="stats-panel">
    <div class="stat-card">
      <div class="stat-title">
        <span>ğŸ”‘</span>
        <span>Keys Pressed</span>
      </div>
      <div class="stat-value">{{ keysPressed }}</div>
    </div>

    <div class="stat-card">
      <div class="stat-title">
        <span>â±ï¸</span>
        <span>Last Key Pressed</span>
      </div>
      <div class="stat-value">{{ lastKey }}</div>
      <div>Key code: <span>{{ lastKeyCode }}</span></div>
    </div>

    <div class="stat-card">
      <div class="stat-title">
        <span>ğŸ“Š</span>
        <span>Key Press History</span>
      </div>
      <div class="key-history">
        <span class="history-key" *ngFor="let k of keyHistory">{{ k }}</span>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-title">
        <span>âš¡</span>
        <span>Keys Per Minute</span>
      </div>
      <div class="stat-value">{{ kpm }}</div>
      <div>Calculated over last 10 seconds</div>
    </div>
  </div>
</div>
